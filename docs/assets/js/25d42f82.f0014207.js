"use strict";(self.webpackChunktyrian_transport_docs=self.webpackChunktyrian_transport_docs||[]).push([[146],{9262:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>o,contentTitle:()=>l,default:()=>p,frontMatter:()=>r,metadata:()=>s,toc:()=>d});var a=n(4848),t=n(8453);const r={sidebar_position:3,sidebar_label:"Architectural Design"},l="Design Architetturale",s={id:"tutorial-basics/architectural_design",title:"Design Architetturale",description:"Architettura Complessiva",source:"@site/docs/tutorial-basics/architectural_design.md",sourceDirName:"tutorial-basics",slug:"/tutorial-basics/architectural_design",permalink:"/Tyrian-Timetable/docs/docs/tutorial-basics/architectural_design",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3,sidebar_label:"Architectural Design"},sidebar:"docSidebar",previous:{title:"Requirements",permalink:"/Tyrian-Timetable/docs/docs/tutorial-basics/requirements"},next:{title:"Detailed Design",permalink:"/Tyrian-Timetable/docs/docs/tutorial-basics/detailed_design"}},o={},d=[{value:"Architettura Complessiva",id:"architettura-complessiva",level:2},{value:"Layer dell&#39;Applicazione",id:"layer-dellapplicazione",level:3},{value:"Interazioni tra i Layer",id:"interazioni-tra-i-layer",level:2},{value:"Diagramma delle Interazioni",id:"diagramma-delle-interazioni",level:3},{value:"Diagramma Architetturale di Alto Livello",id:"diagramma-architetturale-di-alto-livello",level:2},{value:"Pattern Architetturali Utilizzati",id:"pattern-architetturali-utilizzati",level:2},{value:"Gestione degli Eventi e dei Comandi",id:"gestione-degli-eventi-e-dei-comandi",level:2}];function c(e){const i={em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",mermaid:"mermaid",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.header,{children:(0,a.jsx)(i.h1,{id:"design-architetturale",children:"Design Architetturale"})}),"\n",(0,a.jsx)(i.h2,{id:"architettura-complessiva",children:"Architettura Complessiva"}),"\n",(0,a.jsx)(i.p,{children:"L'applicazione Stockholm Transit Tracker segue un'architettura a layer. Questa struttura permette una chiara separazione delle responsabilit\xe0, facilitando la manutenibilit\xe0, la testabilit\xe0 e l'estensibilit\xe0 del sistema."}),"\n",(0,a.jsx)(i.h3,{id:"layer-dellapplicazione",children:"Layer dell'Applicazione"}),"\n",(0,a.jsxs)(i.ul,{children:["\n",(0,a.jsxs)(i.li,{children:["\n",(0,a.jsxs)(i.p,{children:[(0,a.jsx)(i.em,{children:"Presentation Layer"}),": Gestisce l'interfaccia utente e le interazioni."]}),"\n",(0,a.jsxs)(i.ul,{children:["\n",(0,a.jsx)(i.li,{children:"Componenti principali: TransportApp, view function"}),"\n",(0,a.jsx)(i.li,{children:"Tecnologie: Tyrian, Scala.js"}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(i.li,{children:["\n",(0,a.jsxs)(i.p,{children:[(0,a.jsx)(i.em,{children:"Application Layer"}),": Gestisce la logica di business e i casi d'uso."]}),"\n",(0,a.jsxs)(i.ul,{children:["\n",(0,a.jsx)(i.li,{children:"Componenti principali: ApiHandler, Model"}),"\n",(0,a.jsx)(i.li,{children:"Responsabilit\xe0: Processare i comandi, gestire gli eventi, aggiornare lo stato dell'applicazione"}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(i.li,{children:["\n",(0,a.jsxs)(i.p,{children:[(0,a.jsx)(i.em,{children:"Domain Layer"}),": Contiene la logica di business core e le entit\xe0 del dominio."]}),"\n",(0,a.jsxs)(i.ul,{children:["\n",(0,a.jsx)(i.li,{children:"Componenti principali: Station, Departure, TransportType"}),"\n",(0,a.jsx)(i.li,{children:"Responsabilit\xe0: Definire le strutture dati e le regole di business fondamentali"}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(i.li,{children:["\n",(0,a.jsxs)(i.p,{children:[(0,a.jsx)(i.em,{children:"Infrastructure Layer"}),": Si occupa dei servizi esterni e delle fonti di dati."]}),"\n",(0,a.jsxs)(i.ul,{children:["\n",(0,a.jsx)(i.li,{children:"Componenti principali: SLApi (Stockholm Lokaltrafik) , RRApi (ResRobot), TransportFacade"}),"\n",(0,a.jsx)(i.li,{children:"Responsabilit\xe0: Comunicazione con API esterne, gestione dei dati persistenti"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(i.h2,{id:"interazioni-tra-i-layer",children:"Interazioni tra i Layer"}),"\n",(0,a.jsx)(i.p,{children:"Le interazioni tra i layer seguono un flusso specifico:"}),"\n",(0,a.jsxs)(i.ol,{children:["\n",(0,a.jsx)(i.li,{children:"Il Presentation Layer cattura le azioni dell'utente e le traduce in comandi."}),"\n",(0,a.jsx)(i.li,{children:"I comandi vengono inviati all'Application Layer, che li processa utilizzando l'SLHandler."}),"\n",(0,a.jsx)(i.li,{children:"L'SLHandler interagisce con il Domain Layer per eseguire la logica di business e con l'Infrastructure Layer per accedere ai dati esterni."}),"\n",(0,a.jsx)(i.li,{children:"I risultati vengono restituiti all'Application Layer sotto forma di eventi."}),"\n",(0,a.jsx)(i.li,{children:"L'Application Layer aggiorna il Model in base agli eventi."}),"\n",(0,a.jsx)(i.li,{children:"Il Presentation Layer viene notificato dei cambiamenti e aggiorna la vista di conseguenza."}),"\n"]}),"\n",(0,a.jsx)(i.h3,{id:"diagramma-delle-interazioni",children:"Diagramma delle Interazioni"}),"\n",(0,a.jsx)(i.mermaid,{value:"sequenceDiagram\n    participant PL as Presentation Layer\n    participant AL as Application Layer\n    participant DL as Domain Layer\n    participant IL as Infrastructure Layer\n    \n    PL->>AL: Invia comando (es. LoadStations)\n    AL->>IL: Richiede dati\n    IL->>IL: Chiama API esterne\n    IL--\x3e>AL: Restituisce dati grezzi\n    AL->>DL: Converte in entit\xe0 di dominio\n    DL--\x3e>AL: Restituisce entit\xe0\n    AL->>AL: Genera evento (es. StationsLoaded)\n    AL--\x3e>PL: Notifica cambiamento di stato\n    PL->>PL: Aggiorna vista"}),"\n",(0,a.jsx)(i.h2,{id:"diagramma-architetturale-di-alto-livello",children:"Diagramma Architetturale di Alto Livello"}),"\n",(0,a.jsx)(i.mermaid,{value:"graph TD\n    A[TransportApp] --\x3e B[Model]\n    C[ApiHandler]\n    A --\x3e C\n    C --\x3e D[TransportFacade]\n    D --\x3e E[SLApi]\n    D --\x3e L[RRApi]\n    B --\x3e G[Stations]\n    B --\x3e H[Departures]\n    B --\x3e I[Filters, options, etc.]"}),"\n",(0,a.jsx)(i.p,{children:"Questo diagramma mostra le principali componenti dell'applicazione e le loro relazioni."}),"\n",(0,a.jsx)(i.h2,{id:"pattern-architetturali-utilizzati",children:"Pattern Architetturali Utilizzati"}),"\n",(0,a.jsxs)(i.ul,{children:["\n",(0,a.jsxs)(i.li,{children:["\n",(0,a.jsxs)(i.p,{children:[(0,a.jsx)(i.strong,{children:(0,a.jsx)(i.em,{children:"Model-View-Update (MVU)"})}),"\nImplementato attraverso Tyrian, questo pattern separa la logica di stato (Model), la presentazione (View) e l'aggiornamento dello stato (Update)."]}),"\n"]}),"\n",(0,a.jsxs)(i.li,{children:["\n",(0,a.jsxs)(i.p,{children:[(0,a.jsx)(i.strong,{children:(0,a.jsx)(i.em,{children:"Command-Query Responsibility Segregation (CQRS)"})}),"\nSeparazione tra comandi (ApiCommands) che modificano lo stato e query che leggono lo stato, implementato attraverso la struttura degli eventi e dei comandi."]}),"\n"]}),"\n",(0,a.jsxs)(i.li,{children:["\n",(0,a.jsxs)(i.p,{children:[(0,a.jsx)(i.strong,{children:(0,a.jsx)(i.em,{children:"Event Sourcing"})}),"\nUtilizzo di eventi (ApiEvent e TyEvents) per rappresentare cambiamenti nello stato dell'applicazione, in mondo distinto\ntra eventi relativi ai dati esterni e eventi relativi all'interfaccia utente e al Framework."]}),"\n"]}),"\n",(0,a.jsxs)(i.li,{children:["\n",(0,a.jsxs)(i.p,{children:[(0,a.jsx)(i.strong,{children:(0,a.jsx)(i.em,{children:"Facade Pattern"})}),"\nTransportFacade agisce come una facciata, semplificando l'interfaccia per l'accesso ai servizi di trasporto."]}),"\n"]}),"\n",(0,a.jsxs)(i.li,{children:["\n",(0,a.jsxs)(i.p,{children:[(0,a.jsx)(i.strong,{children:(0,a.jsx)(i.em,{children:"Repository Pattern"})}),"\nSLApi e RRApi fungono da repository per l'accesso ai dati esterni, astratti attraverso l'interfaccia TransportFacade."]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(i.h2,{id:"gestione-degli-eventi-e-dei-comandi",children:"Gestione degli Eventi e dei Comandi"}),"\n",(0,a.jsx)(i.mermaid,{value:"classDiagram\n    class Command {\n        <<interface>>\n    }\n    class ApiCommand {\n        <<enumeration>>\n        LoadStations\n        inputUpdated(String input)\n        GetDepartures(String stationId, TransportType filter)\n    }\n    class AppEvent {\n        <<interface>>\n    }\n    class ApiEvent {\n        <<enumeration>>\n        StationsLoaded(Either[String, List[Station]] stations)\n        DeparturesLoaded(List[Departure] departures)\n    }\n    class TyEvent {\n        <<enumeration>>\n        inputUpdated(String input)\n        stationSelected(Station station)\n        TransportFilterUpdated(TransportType filter)\n        inputUpdated(String input)\n    }\n\n    Command <|-- ApiCommand\n    AppEvent <|-- ApiEvent\n    AppEvent <|-- TyEvent"})]})}function p(e={}){const{wrapper:i}={...(0,t.R)(),...e.components};return i?(0,a.jsx)(i,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}}}]);